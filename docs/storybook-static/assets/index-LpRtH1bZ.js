import{i as d,k as f}from"./lit-element-CPYlYYac.js";import{u as v,C as u,n as l}from"./index-BLShQaRP.js";import{r as c}from"./state-I_twzcUk.js";import{h as g}from"./index-pDL_Yvf3.js";import{p as x}from"./index-BGH6lGYG.js";import{I as C}from"./iconprovider.component-DQf4k71i.js";const b=[g,d`
    :host {
      --mdc-icon-fill-color: currentColor;
    }
    svg {
      height: 100%;
      width: 100%;
      fill: var(--mdc-icon-fill-color);
    }
  `],y=async(a,t,e)=>{const n=await fetch(`${a}/${t}.${e}`);if(!n.ok)throw new Error("There was a problem while fetching the icon!");const i=await n.text();return new DOMParser().parseFromString(i,"text/html").body.children[0]},z=v.constructTagName("icon"),p={NAME:void 0,SIZE:1};var I=Object.defineProperty,s=(a,t,e,n)=>{for(var i=void 0,r=a.length-1,h;r>=0;r--)(h=a[r])&&(i=h(t,e,i)||i);return i&&I(t,e,i),i};const m=class m extends u{constructor(){super(...arguments),this.name=p.NAME,this.ariaLabel=null,this.iconProviderContext=x.consume({host:this,context:C.Context})}async getIconData(){if(this.iconProviderContext.value){const{fileExtension:t,url:e}=this.iconProviderContext.value;if(e&&t&&this.name){const n=await y(e,this.name,t);this.iconData=n,this.setRoleOnIcon(),this.setAriaLabelOnIcon(),this.setAriaHiddenOnIcon()}}}updateSize(){if(this.computedIconSize&&(this.lengthUnit||this.lengthUnitFromContext)){const t=`${this.computedIconSize}${this.lengthUnit??this.lengthUnitFromContext}`;this.style.width=t,this.style.height=t}}setRoleOnIcon(){this.role=this.ariaLabel?"img":null}setAriaHiddenOnIcon(){var t;(t=this.iconData)==null||t.setAttribute("aria-hidden","true")}setAriaLabelOnIcon(){var t,e;this.ariaLabel?(t=this.iconData)==null||t.setAttribute("aria-label",this.ariaLabel):(e=this.iconData)==null||e.removeAttribute("aria-label")}get computedIconSize(){return this.size??this.sizeFromContext??p.SIZE}updated(t){var e,n,i,r;super.updated(t),t.has("name")&&this.getIconData().catch(h=>{console.error(h)}),t.has("ariaLabel")&&(this.setRoleOnIcon(),this.setAriaLabelOnIcon()),(t.has("size")||t.has("lengthUnit"))&&this.updateSize(),this.lengthUnitFromContext!==((e=this.iconProviderContext.value)==null?void 0:e.lengthUnit)&&(this.lengthUnitFromContext=(n=this.iconProviderContext.value)==null?void 0:n.lengthUnit,this.updateSize()),this.sizeFromContext!==((i=this.iconProviderContext.value)==null?void 0:i.size)&&(this.sizeFromContext=(r=this.iconProviderContext.value)==null?void 0:r.size,this.updateSize())}render(){return f` ${this.iconData} `}};m.styles=[...u.styles,...b];let o=m;s([c()],o.prototype,"iconData");s([c()],o.prototype,"lengthUnitFromContext");s([c()],o.prototype,"sizeFromContext");s([l({type:String,reflect:!0})],o.prototype,"name");s([l({type:Number})],o.prototype,"size");s([l({type:String,attribute:"length-unit"})],o.prototype,"lengthUnit");s([l({type:String,attribute:"aria-label"})],o.prototype,"ariaLabel");o.register(z);
